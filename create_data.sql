TRUNCATE project, plate_set, plate, hits, hit_list, assay_run, assay_result, sample, well, pmsession RESTART IDENTITY CASCADE;


SELECT new_project('One plate set with 2 96 well plates', 'MyTestProj1', 1 );
SELECT new_project('description 2', 'MyTestProj2', 1 );
SELECT new_project('description 3', 'MyTestProj3', 1 );
SELECT new_project('description 4', 'MyTestProj4', 1 );
SELECT new_project('description 5', 'MyTestProj5', 1 );
SELECT new_project('description 6', 'MyTestProj6', 1 );
SELECT new_project('description 7', 'MyTestProj7', 1 );
SELECT new_project('description 8', 'MyTestProj8', 1 );
SELECT new_project('10 plate sets with 20 plates each', 'MyTestProj9', 1 );
SELECT new_project('10 plate sets with 20 plates each', 'MyTestProj10 with data', 1 );

--SELECT * FROM project;


SELECT new_plate_set('using LYT-7;96;8in12','ps-name-by-user1',20,96,1,10,7,TRUE);
SELECT new_plate_set('using LYT-1;96;4in12','ps-name-by-user2',20,96,1,10,1,TRUE);
SELECT new_plate_set('using LYT-1;96;4in12','ps-name-by-user3',20,384,1,10,1,TRUE);
SELECT new_plate_set('using LYT-19;384;16in24','ps-name-by-user4',20,384,1,10,19,TRUE);
SELECT new_plate_set('using LYT-19;384;16in24','ps-name-by-user5',20,384,1,10,19,TRUE);
SELECT new_plate_set('using LYT-13;384;8in24','ps-name-by-user5',20,384,2,10,13,TRUE);
SELECT new_plate_set('using LYT-13;384;8in24','ps-name-by-user5',20,384,2,10,13,TRUE);
SELECT new_plate_set('using LYT-37;1536;8in47,48','ps-name-by-user5',20,1536,1,10,37,TRUE);
SELECT new_plate_set('using LYT-37;1536;8in47,48','ps-name-by-user5',20,1536,1,10,37,TRUE);
SELECT new_plate_set('using LYT-37;1536;8in47,48','ps-name-by-user5',20,1536,1,10,37,TRUE);

SELECT new_plate_set('using loop1','ps-name-by-user1',20,96,1,9,1,TRUE);
SELECT new_plate_set('using loop2','ps-name-by-user2',20,96,1,9,1,TRUE);
SELECT new_plate_set('using loop3','ps-name-by-user3',20,384,1,9,13,TRUE);
SELECT new_plate_set('using loop4','ps-name-by-user4',20,384,1,9,13,TRUE);
SELECT new_plate_set('using loop5','ps-name-by-user5',20,384,1,9,13,TRUE);
SELECT new_plate_set('using loop5','ps-name-by-user5',20,384,2,9,13,TRUE);
SELECT new_plate_set('using loop5','ps-name-by-user5',20,384,2,9,13,TRUE);
SELECT new_plate_set('using loop5','ps-name-by-user5',20,1536,1,9,37,TRUE);
SELECT new_plate_set('using loop5','ps-name-by-user5',20,1536,1,9,37,TRUE);
SELECT new_plate_set('using loop5','ps-name-by-user5',20,1536,1,9,37,TRUE);

SELECT new_plate_set('for data import','2 96 well plates',2,96,1,1,1,TRUE);
SELECT new_plate_set('for data import','2 96 well plates',2,96,1,2,1,TRUE);
SELECT new_plate_set('for data import','2 96 well plates',2,96,1,3,1,TRUE);


-- new_assay_run( _name VARCHAR(30), _descr VARCHAR(30), _assay_type_id INTEGER, _plate_set_id INTEGER, _plate_layout_name_id INTEGER)
select new_assay_run( 'assay_run1', 'PS-1 LYT-1;96;4in12', 1, 1, 1);
select new_assay_run( 'assay_run2', 'PS-2 LYT-1;96;4in12', 5, 2, 1);
select new_assay_run( 'assay_run3', 'PS-3 LYT-15;384;8in24', 1, 3, 13);
select new_assay_run( 'assay_run4', 'PS-4 LYT-15;384;8in24', 1, 4, 13);
select new_assay_run( 'assay_run5', 'PS-5 LYT-15;384;8in24', 5, 5, 13);
select new_assay_run( 'assay_run6', 'PS-6 LYT-15;384;8in24', 1, 6, 13);
select new_assay_run( 'assay_run7', 'PS-7 LYT-15;384;8in24', 5, 7, 13);
select new_assay_run( 'assay_run8', 'PS-8 LYT-43;1536;8in47,48', 1, 8, 37);
select new_assay_run( 'assay_run9', 'PS-9 LYT-43;1536;8in47,48', 1, 9, 37);
select new_assay_run( 'assay_run10', 'PS-10 LYT-43;1536;8in47,48', 5, 10, 37);

\i /home/mbc/projects/data/assay_data_for_import.sql

SELECT process_assay_run_data(1);
SELECT process_assay_run_data(2);
SELECT process_assay_run_data(3);
SELECT process_assay_run_data(4);
SELECT process_assay_run_data(5);
SELECT process_assay_run_data(6);
SELECT process_assay_run_data(7);
SELECT process_assay_run_data(8);
SELECT process_assay_run_data(9);
SELECT process_assay_run_data(10);

-- assay_name descr assay_type_id plate_set_id plate_layout_name_id
SELECT new_assay_run('assay run 1', 'PS-1 LYT-1;96;4in12' , 1, 1, 1);
SELECT new_assay_run('assay run 2', 'PS-2 LYT-1;96;4in12' , 5, 2, 1);
SELECT new_assay_run('assay run 3', 'PS-3 LYT-15;384;8in24' , 1, 3, 13);
SELECT new_assay_run('assay run 4', 'PS-4 LYT-15;384;8in24' , 1, 4, 13);
SELECT new_assay_run('assay run 5', 'PS-5 LYT-15;384;8in24' , 5, 5, 13);
SELECT new_assay_run('assay run 6', 'PS-6 LYT-15;384;8in24' , 1, 6, 13);
SELECT new_assay_run('assay run 7', 'PS-7 LYT-15;384;8in24' , 5, 7, 13);
SELECT new_assay_run('assay run 8', 'PS-8 LYT-43;1536;8in47,48' , 1, 8, 37);
SELECT new_assay_run('assay run 9', 'PS-9 LYT-43;1536;8in47,48' , 1, 9, 37);
SELECT new_assay_run('assay run 10', 'PS-10 LYT-43;1536;8in47,48' , 5, 10, 37);
SELECT new_assay_run('assay run 11', 'PS-10 LYT-43;1536;8in47,48' , 5, 10, 37);
SELECT new_assay_run('assay run 12', 'PS-10 LYT-43;1536;8in47,48' , 5, 10, 37);
SELECT new_assay_run('assay run 13', 'PS-10 LYT-43;1536;8in47,48' , 5, 10, 37);
SELECT new_assay_run('assay run 14', 'PS-10 LYT-43;1536;8in47,48' , 5, 10, 37);
SELECT new_assay_run('assay run 15', 'PS-10 LYT-43;1536;8in47,48' , 5, 10, 37);


SELECT new_hit_list('hit list 1', 'descr1', 50, 10, ARRAY[95689, 96755, 96618, 96028, 96297, 95383, 96219, 96130, 95554, 96857, 96826, 95636, 96826, 95470, 96210, 96106, 96646, 95585, 95465, 95538, 96558, 96574, 96591, 96698, 96149, 95400, 96753, 96094, 95390, 96376, 95668, 95756, 96408, 96712, 96765, 96309, 95765, 96715, 96082, 96136, 95803, 96728, 96656, 96850, 96166, 96674, 96353, 96405, 96318, 96013]);
SELECT new_hit_list('hit list 2', 'descr2', 50, 10, ARRAY[97376, 97423, 98319, 98200, 97595, 97994, 96972, 98288, 97091, 97496, 96947, 97111, 97985, 98267, 98306, 97733, 97486, 97226, 98061, 97862, 97606, 97384, 97506, 97763, 98196, 97256, 97606, 98281, 96920, 98211, 97986, 97133, 97895, 97307, 97978, 97254, 97496, 97884, 97369, 97781, 97687, 98021, 97556, 98012, 97739, 98285, 97660, 97181, 97908, 98367]);
SELECT new_hit_list('hit list 3', 'descr3', 50, 10, ARRAY[99257, 99093, 98486, 99309, 98989, 99625, 99314, 99763, 99647, 98829, 99724, 99394, 99361, 98844, 99434, 99372, 98599, 98421, 99093, 98577, 99585, 98982, 98617, 99266, 98604, 99532, 98558, 98896, 99445, 99210, 98931, 99126, 98791, 99034, 99067, 98440, 99835, 99595, 99346, 98715, 99045, 99701, 99699, 99573, 99015, 98661, 99389, 99706, 98709, 99092]);
SELECT new_hit_list('hit list 4', 'descr4', 50, 10, ARRAY[99874, 100211, 99907, 101261, 100548, 101286, 100372, 100753, 101024, 100713, 100232, 100659, 101065, 100568, 101109, 100765, 100377, 100758, 100977, 100333, 100757, 100768, 101199, 99928, 100569, 100444, 100433, 101371, 100882, 100552, 100200, 100262, 100358, 100373, 101262, 100553, 100395, 100277, 101123, 101150, 100135, 101156, 100523, 100963, 99896, 100736, 100083, 100593, 100888, 100864]);
SELECT new_hit_list('hit list 5', 'descr5', 50, 10, ARRAY[101759, 101507, 101798, 101722, 101828, 101700, 102372, 102086, 102362, 101600, 101568, 102661, 102468, 101799, 102774, 101845, 101467, 102216, 101401, 101438, 102264, 101783, 102257, 102607, 101584, 101805, 101903, 102081, 101941, 102335, 102048, 101739, 101496, 102642, 102133, 102834, 101662, 101451, 102714, 101660, 101438, 101681, 101896, 102634, 101750, 101720, 102403, 101537, 102248, 102505]);
SELECT new_hit_list('hit list 6', 'descr6', 50, 10, ARRAY[103428, 103920, 104127, 103183, 103568, 103159, 103317, 103581, 103402, 103411, 103661, 103673, 103957, 103267, 103848, 104144, 102915, 104181, 104351, 103214, 102968, 103529, 103090, 103752, 104115, 104070, 103320, 103652, 104247, 102903, 104269, 104283, 103658, 103100, 104194, 104000, 104126, 103940, 104046, 103831, 103614, 104144, 103344, 103356, 104265, 103585, 103595, 103249, 103464, 103775]);
SELECT new_hit_list('hit list 7', 'descr7', 50, 10, ARRAY[104979, 104814, 105016, 104848, 105544, 105715, 104641, 104823, 105165, 105168, 105808, 105796, 104583, 104804, 104599, 105583, 104558, 104775, 105282, 104826, 105298, 105473, 104879, 105209, 105735, 104801, 105406, 105077, 105761, 105490, 105124, 105012, 105465, 105691, 104737, 104516, 104688, 105215, 105823, 104679, 104896, 104994, 105170, 105047, 105811, 105716, 104955, 105654, 105274, 104981]);
SELECT new_hit_list('hit list 8', 'descr8', 50, 10, ARRAY[106926, 107233, 106553, 107144, 106793, 105931, 107080, 106828, 106976, 107323, 107249, 106984, 106980, 106116, 106343, 106509, 106237, 106041, 106287, 106467, 106501, 106999, 105982, 107356, 106557, 106233, 107345, 106633, 107278, 106023, 107015, 106787, 106181, 107365, 106200, 105966, 106363, 105950, 106606, 107333, 106681, 107077, 106076, 106570, 105988, 107138, 106126, 107065, 107310, 106241]);
SELECT new_hit_list('hit list 9', 'descr9', 50, 10, ARRAY[108024, 107697, 108245, 108489, 108183, 108827, 108013, 108140, 108057, 108459, 108664, 108482, 108740, 108632, 108341, 107415, 107502, 107627, 108304, 108390, 107598, 107961, 107795, 108717, 107569, 108658, 108332, 108729, 108585, 107934, 108722, 107568, 107597, 108507, 108837, 107810, 108280, 108786, 107803, 107865, 108347, 107421, 107794, 107643, 108476, 107569, 108028, 107746, 108083, 108742]);
SELECT new_hit_list('hit list 10', 'descr10', 50, 10, ARRAY[110365, 110400, 110181, 109222, 109630, 109002, 109115, 109141, 110074, 109851, 109113, 109704, 109651, 109347, 110385, 109779, 109112, 110220, 109656, 109005, 109148, 110138, 110117, 109147, 110118, 108993, 109864, 109549, 109328, 109717, 110240, 109001, 110059, 110035, 110153, 110265, 109435, 109127, 109087, 110001, 109960, 109209, 109225, 109477, 108923, 109989, 109418, 109450, 109848, 109125]);
SELECT new_hit_list('hit list 11', 'descr11', 50, 10, ARRAY[110448, 111309, 110551, 110615, 111660, 111004, 111080, 110653, 111144, 110545, 110524, 110562, 111499, 111211, 111127, 111145, 111580, 111064, 111096, 110564, 111500, 111742, 110731, 110914, 111444, 111144, 111461, 111084, 111541, 110797, 111251, 111766, 111675, 111667, 111520, 110815, 110714, 111287, 111891, 110656, 111059, 111662, 110847, 111313, 111251, 110578, 111493, 111224, 110722, 111119]);
SELECT new_hit_list('hit list 12', 'descr12', 50, 10, ARRAY[112681, 112938, 112360, 112534, 111962, 112894, 112426, 113249, 113150, 112102, 111948, 112320, 112997, 112476, 113380, 113255, 111994, 112876, 112108, 112698, 113190, 112130, 113119, 112957, 113343, 112659, 112750, 111947, 112892, 112936, 113081, 113382, 112879, 112512, 113009, 113245, 113183, 112406, 112080, 113039, 112784, 112209, 112195, 113078, 112118, 112350, 112713, 112465, 112531, 112873]);
SELECT new_hit_list('hit list 13', 'descr13', 50, 10, ARRAY[114802, 113894, 113504, 113702, 114495, 114633, 114615, 113941, 113485, 114844, 113884, 114067, 114479, 114572, 113540, 113956, 113415, 114195, 113516, 114510, 114452, 113857, 114173, 114034, 114655, 114206, 114434, 114345, 114869, 113709, 114084, 114460, 114795, 113576, 114756, 114409, 114528, 114258, 113412, 114506, 114830, 114463, 113895, 113413, 113998, 114888, 114699, 114773, 113770, 114505]);
SELECT new_hit_list('hit list 14', 'descr14', 50, 10, ARRAY[115499, 115622, 115847, 115536, 116081, 115853, 116051, 115443, 116258, 115531, 115664, 115330, 115667, 116203, 115163, 115092, 116004, 115841, 116360, 115831, 115711, 116381, 115904, 116232, 116163, 115115, 115639, 116027, 116023, 115817, 115224, 115004, 115897, 115154, 116013, 114979, 115767, 114985, 115096, 115751, 116188, 115087, 115653, 115483, 116306, 115789, 114964, 115821, 115493, 115039]);
SELECT new_hit_list('hit list 15', 'descr15', 50, 10, ARRAY[116767, 116813, 116957, 116662, 117281, 117209, 117655, 117787, 117702, 116446, 116639, 116854, 117456, 116616, 117573, 116417, 116991, 117758, 117780, 117707, 117694, 117766, 117626, 116458, 116574, 116769, 117001, 117068, 117041, 117842, 116502, 116633, 116952, 117064, 116990, 117330, 117217, 117375, 117271, 117404, 116781, 117888, 117629, 117332, 117630, 117104, 116969, 117763, 117387, 117238]);
SELECT new_hit_list('hit list 16', 'descr16', 50, 10, ARRAY[118292, 117944, 118972, 118497, 118605, 118591, 119179, 117944, 118100, 118808, 118153, 118682, 118009, 118019, 119083, 118122, 118211, 118821, 119366, 118620, 119215, 119238, 118714, 118201, 118244, 119155, 118501, 118527, 118013, 119227, 119179, 117970, 118585, 118508, 118875, 118042, 119045, 119076, 118930, 119194, 117925, 119147, 117945, 119216, 118290, 118417, 118599, 119192, 118412, 118259]);
SELECT new_hit_list('hit list 17', 'descr17', 50, 10, ARRAY[120431, 120886, 120722, 120502, 120445, 120029, 120106, 119458, 120078, 119646, 120858, 120419, 119621, 120901, 120799, 119591, 119742, 119443, 119923, 120106, 119753, 120601, 119843, 120823, 120575, 120923, 120533, 120109, 119474, 119653, 119705, 119760, 120631, 119621, 120378, 120614, 120591, 120505, 120532, 119438, 119589, 120046, 120123, 120554, 120242, 119552, 119487, 120376, 119816, 119726]);
SELECT new_hit_list('hit list 18', 'descr18', 50, 10, ARRAY[122111, 122274, 121386, 121457, 121182, 121925, 121225, 121198, 122233, 121457, 121776, 121699, 122431, 122257, 121006, 121315, 122319, 122123, 121390, 121330, 121376, 121950, 121697, 122205, 121738, 122202, 121405, 121772, 121020, 121583, 120962, 121542, 122036, 121097, 121344, 121633, 122273, 121022, 122349, 122351, 122290, 121006, 121246, 122044, 121745, 122042, 121276, 121527, 121597, 121409]);
SELECT new_hit_list('hit list 19', 'descr19', 50, 10, ARRAY[123005, 123832, 123786, 122508, 123719, 123523, 122539, 122617, 123505, 122670, 122443, 122620, 123270, 123660, 123146, 122737, 123299, 122955, 122800, 122503, 123301, 123166, 122582, 123454, 123567, 122584, 122487, 123610, 122992, 122597, 123708, 123665, 123102, 123249, 123480, 123377, 122887, 123543, 123366, 123597, 122756, 122949, 123241, 123920, 122979, 122895, 122931, 123266, 123504, 123301]);
SELECT new_hit_list('hit list 20', 'descr20', 50, 10, ARRAY[125346, 124569, 124224, 124657, 124148, 125032, 125377, 123981, 125008, 125100, 124197, 124061, 125020, 125361, 124742, 125431, 124539, 124727, 124622, 124288, 124487, 124546, 124113, 124871, 124476, 124945, 125072, 124527, 124305, 124216, 125146, 125038, 125254, 125131, 124589, 124741, 124383, 125188, 124632, 125371, 124808, 125049, 125062, 124357, 125419, 125189, 124524, 124423, 124898, 125244]);
